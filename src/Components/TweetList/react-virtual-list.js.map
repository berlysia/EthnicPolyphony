{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///react-virtual-list.js","webpack:///webpack/bootstrap 74fba154c1c04affc94f","webpack:///./src/BinaryIndexedTree.js","webpack:///./src/Box.js","webpack:///./src/HeightCache.js","webpack:///./src/VirtualList.js","webpack:///./src/VirtualState.js","webpack:///./src/rafDebounce.js","webpack:///external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack:///external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_7__","__WEBPACK_EXTERNAL_MODULE_8__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","BinaryIndexedTree","seed","bit","Array","length","fill","values","set","idx","val","diff","x","l","get","ans","sum","lowerBound","mid","begin","end","i","Object","defineProperty","value","_interopRequireDefault","obj","__esModule","default","Viewport","el","size","calculateSize","top","calcYPos","height","clientHeight","innerHeight","getScrollTop","scrollTop","scrollY","pageYOffset","reset","ContentBox","items","itemHeight","heightCache","keyFromItem","onUpdateCache","key","revMap","_this","cache","_HeightCache2","_BinaryIndexedTree2","map","has","Map","forEach","item","console","log","onChange","bind","getOffset","window","y","offsetTop","offsetParent","_HeightCache","_BinaryIndexedTree","HeightCache","database","listeners","listener","push","splice","findIndex","emitChange","fn","_react","_react2","_reactDom","_reactDom2","_rafDebounce","_rafDebounce2","_VirtualState","_VirtualState2","identity","VerticalList","createClass","displayName","scrollDebounce","virtualState","propTypes","PropTypes","number","isRequired","itemFactory","func","array","object","bufferSize","viewport","tagName","string","getDefaultProps","getInitialState","contentHeight","topOffset","componentWillMount","updateDebounce","update","resetStateDebounce","componentDidMount","initVirtualState","props","bindEvents","componentWillUnmount","unbindEvents","shouldComponentUpdate","nextProps","nextState","state","componentWillReceiveProps","findDOMNode","addEventListener","handleScroll","handleResize","removeEventListener","force","setState","calculate","request","updateHeightCache","renderItems","_this2","render","css","boxSizing","paddingTop","createElement","style","VirtualState","viewportEl","contentEl","_Box","contentBox","absTopOffset","visibleHeight","Math","min","startIdx","max","endIdx","slice","rafDebounce","rafScheduled","fnWrapper","requestAnimationFrame"],"mappings":"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","file":"react-virtual-list.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VirtualList\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"VirtualList\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VirtualList\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"VirtualList\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(4);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = BinaryIndexedTree;\n\tfunction BinaryIndexedTree(seed) {\n\t    this.bit = Array(seed.length + 1).fill(0);\n\t    this.values = Array(seed.length).fill(0);\n\t\n\t    this.set = function (idx, val) {\n\t        var diff = val - this.values[idx];\n\t        this.values[idx] += diff;\n\t        idx++;\n\t        for (var x = idx, l = this.bit.length - 1; x <= l; x += x & -x) {\n\t            if (this.bit[x] == null) this.bit[x] = 0;\n\t            this.bit[x] += diff;\n\t        }\n\t    };\n\t\n\t    this.get = function (idx) {\n\t        idx++;\n\t        var ans = 0;\n\t        for (var x = idx; x > 0; x -= x & -x) {\n\t            ans += this.bit[x];\n\t        }\n\t        return ans || 0;\n\t    };\n\t\n\t    this.sum = function () {\n\t        return this.get(this.bit.length - 2);\n\t    };\n\t\n\t    this.lowerBound = function (x) {\n\t        var begin = 1,\n\t            end = this.bit.length,\n\t            mid;\n\t        while (end - begin > 1) {\n\t            mid = begin + end >> 1;\n\t            if (this.get(mid) < x) {\n\t                begin = mid;\n\t            } else {\n\t                end = mid;\n\t            }\n\t        }\n\t        return begin - 1;\n\t    };\n\t\n\t    for (var i = 0, l = seed.length; i < l; ++i) {\n\t        this.set(i, seed[i]);\n\t    }\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Viewport = Viewport;\n\texports.ContentBox = ContentBox;\n\t\n\tvar _HeightCache = __webpack_require__(3);\n\t\n\tvar _HeightCache2 = _interopRequireDefault(_HeightCache);\n\t\n\tvar _BinaryIndexedTree = __webpack_require__(1);\n\t\n\tvar _BinaryIndexedTree2 = _interopRequireDefault(_BinaryIndexedTree);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Viewport(el) {\n\t    var size;\n\t    this.el = el;\n\t\n\t    var calculateSize = function calculateSize() {\n\t        return size = {\n\t            top: calcYPos(el),\n\t            height: el.clientHeight || el.innerHeight\n\t        };\n\t    };\n\t\n\t    this.size = function () {\n\t        return size || calculateSize();\n\t    };\n\t\n\t    this.getScrollTop = function () {\n\t        var scrollTop = el.scrollTop;\n\t\n\t        if (typeof scrollTop === 'undefined') {\n\t            scrollTop = el.scrollY || el.pageYOffset;\n\t        }\n\t\n\t        return scrollTop;\n\t    };\n\t\n\t    this.reset = function () {\n\t        size = null;\n\t    };\n\t}\n\t\n\tfunction ContentBox(el, items, itemHeight, heightCache, keyFromItem) {\n\t    var _this = this;\n\t\n\t    var size;\n\t    this.el = el;\n\t\n\t    var cache = new _HeightCache2.default(heightCache);\n\t    var bit = new _BinaryIndexedTree2.default(items.map(function (x) {\n\t        return cache.has(x) ? cache.get(x) : itemHeight;\n\t    }));\n\t    var revMap = new Map(); // from key to idx\n\t\n\t    items.forEach(function (item, idx) {\n\t        return revMap.set(keyFromItem(item), idx);\n\t    });\n\t\n\t    var calculateSize = function calculateSize() {\n\t        size = {\n\t            top: calcYPos(_this.el),\n\t            height: bit.sum()\n\t        };\n\t        console.log(size, bit);\n\t        return size;\n\t    };\n\t\n\t    function onUpdateCache(key, val) {\n\t        var idx = revMap.get(key);\n\t        bit.set(idx, val);\n\t        calculateSize();\n\t    }\n\t\n\t    cache.onChange(onUpdateCache.bind(this));\n\t\n\t    this.lowerBound = function (x) {\n\t        return bit.lowerBound(x);\n\t    };\n\t\n\t    this.getOffset = function (x) {\n\t        return bit.get(x);\n\t    };\n\t\n\t    this.size = function () {\n\t        return size || calculateSize();\n\t    };\n\t\n\t    this.reset = function () {\n\t        size = null;\n\t    };\n\t}\n\t\n\tfunction calcYPos(el) {\n\t    if (el === window) return 0;\n\t    var y = 0;\n\t\n\t    while (!!el) {\n\t        y += el.offsetTop;\n\t        el = el.offsetParent;\n\t    }\n\t\n\t    return y;\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = HeightCache;\n\tfunction HeightCache(database) {\n\t    var listeners = [];\n\t    this.onChange = function (listener) {\n\t        listeners.push(listener);\n\t        return function () {\n\t            listeners.splice(listeners.findIndex(listener), 1);\n\t        };\n\t    };\n\t    this.emitChange = function (key, val) {\n\t        listeners.forEach(function (fn) {\n\t            return fn(key, val);\n\t        });\n\t    };\n\t    this.has = function (key) {\n\t        return database.has(key);\n\t    };\n\t    this.get = function (key) {\n\t        return database.get(key);\n\t    };\n\t    this.set = function (key, val) {\n\t        database.set(key, val);\n\t        this.emitChange(key, val);\n\t    };\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(7);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(8);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _rafDebounce = __webpack_require__(6);\n\t\n\tvar _rafDebounce2 = _interopRequireDefault(_rafDebounce);\n\t\n\tvar _VirtualState = __webpack_require__(5);\n\t\n\tvar _VirtualState2 = _interopRequireDefault(_VirtualState);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar identity = function identity(x) {\n\t    return x;\n\t};\n\t\n\tvar VerticalList = _react2.default.createClass({\n\t    displayName: 'VerticalList',\n\t    scrollDebounce: null,\n\t    virtualState: null,\n\t\n\t    propTypes: {\n\t        itemHeight: _react2.default.PropTypes.number.isRequired,\n\t        itemFactory: _react2.default.PropTypes.func.isRequired,\n\t        items: _react2.default.PropTypes.array,\n\t        keyFromItem: _react2.default.PropTypes.func,\n\t        heightCache: _react2.default.PropTypes.object,\n\t        bufferSize: _react2.default.PropTypes.number,\n\t        viewport: _react2.default.PropTypes.object,\n\t        tagName: _react2.default.PropTypes.string\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            viewport: window,\n\t            items: [],\n\t            bufferSize: 0,\n\t            tagName: 'ul',\n\t            heightCache: new Map(),\n\t            keyFromItem: identity\n\t        };\n\t    },\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            contentHeight: 0,\n\t            topOffset: 0,\n\t            items: []\n\t        };\n\t    },\n\t    componentWillMount: function componentWillMount() {\n\t        var _this = this;\n\t\n\t        this.updateDebounce = (0, _rafDebounce2.default)(this.update);\n\t        this.resetStateDebounce = (0, _rafDebounce2.default)(function () {\n\t            return _this.virtualState.reset();\n\t        });\n\t    },\n\t    componentDidMount: function componentDidMount() {\n\t        this.initVirtualState(this.props);\n\t        this.bindEvents(this.props);\n\t        this.update();\n\t    },\n\t    componentWillUnmount: function componentWillUnmount() {\n\t        this.unbindEvents(this.props);\n\t    },\n\t    shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n\t        if (this.state.contentHeight !== nextState.contentHeight) {\n\t            return true;\n\t        }\n\t\n\t        if (this.state.items.length !== nextState.items.length) {\n\t            return true;\n\t        }\n\t\n\t        return this.state.topOffset !== nextState.topOffset;\n\t    },\n\t    componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n\t        this.initVirtualState(nextProps);\n\t        this.unbindEvents(nextProps);\n\t        this.bindEvents(nextProps);\n\t        this.update();\n\t    },\n\t    initVirtualState: function initVirtualState(props) {\n\t        this.virtualState = new _VirtualState2.default(props.viewport, _reactDom2.default.findDOMNode(this), props.items, props.itemHeight, props.bufferSize, props.heightCache, props.keyFromItem);\n\t    },\n\t    bindEvents: function bindEvents(props) {\n\t        props.viewport.addEventListener('scroll', this.handleScroll);\n\t\n\t        if (props.viewport === window) {\n\t            props.viewport.addEventListener('resize', this.handleResize);\n\t        }\n\t    },\n\t    unbindEvents: function unbindEvents(props) {\n\t        props.viewport.removeEventListener('scroll', this.handleScroll);\n\t        props.viewport.removeEventListener('resize', this.handleResize);\n\t    },\n\t    update: function update(force) {\n\t        if (force) {\n\t            this.virtualState.reset();\n\t        }\n\t\n\t        this.setState(this.virtualState.calculate());\n\t    },\n\t    handleScroll: function handleScroll() {\n\t        this.updateDebounce.request();\n\t    },\n\t    handleResize: function handleResize() {\n\t        this.virtualState.reset();\n\t        this.updateDebounce.request();\n\t    },\n\t    updateHeightCache: function updateHeightCache(item, height) {\n\t        this.props.heightCache.set(this.props.keyFromItem(item), height);\n\t        this.updateDebounce.request();\n\t    },\n\t    renderItems: function renderItems() {\n\t        var _this2 = this;\n\t\n\t        return this.state.items.map(function (item) {\n\t            return _this2.props.itemFactory(item, _this2.props, _this2.state, _this2.updateHeightCache);\n\t        });\n\t    },\n\t    render: function render() {\n\t        var css = {\n\t            boxSizing: 'border-box',\n\t            height: this.state.contentHeight + 'px',\n\t            paddingTop: this.state.topOffset + 'px'\n\t        };\n\t\n\t        return _react2.default.createElement(\n\t            this.props.tagName,\n\t            { style: css },\n\t            this.renderItems()\n\t        );\n\t    }\n\t});\n\t\n\texports.default = VerticalList;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _Box = __webpack_require__(2);\n\t\n\tfunction VirtualState(viewportEl, contentEl, items, itemHeight, bufferSize, heightCache, keyFromItem) {\n\t    this.viewport = new _Box.Viewport(viewportEl);\n\t    this.contentBox = new _Box.ContentBox(contentEl, items, itemHeight, heightCache, keyFromItem);\n\t\n\t    var state = {\n\t        contentHeight: 0,\n\t        topOffset: 0,\n\t        items: []\n\t    };\n\t\n\t    this.calculate = function () {\n\t        if (itemHeight <= 0) {\n\t            return state;\n\t        }\n\t\n\t        var absTopOffset = this.viewport.size().top - this.contentBox.size().top + this.viewport.getScrollTop();\n\t        var visibleHeight = Math.min(this.viewport.size().height, this.viewport.size().height + absTopOffset);\n\t\n\t        var startIdx = Math.max(0, this.contentBox.lowerBound(absTopOffset) - 1);\n\t        var endIdx = Math.max(startIdx + 1, this.contentBox.lowerBound(absTopOffset + visibleHeight));\n\t\n\t        if (bufferSize) {\n\t            startIdx = Math.max(0, startIdx - bufferSize);\n\t            endIdx = endIdx + bufferSize;\n\t        }\n\t\n\t        state.contentHeight = this.contentBox.size().height;\n\t        state.topOffset = startIdx > 0 ? this.contentBox.getOffset(startIdx - 1) : 0;\n\t        state.items = items.slice(startIdx, endIdx);\n\t\n\t        console.log('calculate', state);\n\t\n\t        return state;\n\t    };\n\t\n\t    this.reset = function () {\n\t        this.viewport.reset();\n\t        this.contentBox.reset();\n\t    };\n\t}\n\t\n\texports.default = VirtualState;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = rafDebounce;\n\tfunction rafDebounce(fn) {\n\t    var rafScheduled = false;\n\t\n\t    var fnWrapper = function fnWrapper() {\n\t        fn();\n\t        rafScheduled = false;\n\t    };\n\t\n\t    return {\n\t        request: function request() {\n\t            if (!rafScheduled) {\n\t                requestAnimationFrame(fnWrapper);\n\t                rafScheduled = true;\n\t            }\n\t        }\n\t    };\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** react-virtual-list.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 74fba154c1c04affc94f\n **/","export default function BinaryIndexedTree(seed) {\n    this.bit = Array(seed.length + 1).fill(0);\n    this.values = Array(seed.length).fill(0);\n\n    this.set = function(idx, val) {\n        var diff = val - this.values[idx];\n        this.values[idx] += diff;\n        idx++;\n        for(var x = idx, l = this.bit.length - 1; x <= l; x += x & -x) {\n            if(this.bit[x] == null) this.bit[x] = 0;\n            this.bit[x] += diff;\n        }\n    }\n\n    this.get = function(idx) {\n        idx++;\n        var ans = 0;\n        for(var x = idx; x > 0; x -= x & -x) {\n            ans += this.bit[x];\n        }\n        return ans || 0;\n    }\n\n    this.sum = function() {\n        return this.get(this.bit.length - 2);\n    }\n\n    this.lowerBound = function(x) {\n      var begin = 1, end = this.bit.length, mid;\n      while (end - begin > 1) {\n        mid = (begin + end) >> 1;\n        if (this.get(mid) < x) {\n          begin = mid;\n        } else {\n          end = mid;\n        }\n      }\n      return begin - 1;\n    }\n\n    for(var i = 0, l = seed.length; i < l; ++i) {\n        this.set(i, seed[i]);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/BinaryIndexedTree.js\n **/","import HeightCache from './HeightCache';\nimport BinaryIndexedTree from './BinaryIndexedTree';\n\nexport function Viewport(el) {\n    var size;\n    this.el = el;\n\n    var calculateSize = () => {\n        return size = {\n            top: calcYPos(el),\n            height: el.clientHeight || el.innerHeight\n        };\n    };\n\n    this.size = function () {\n        return size || calculateSize();\n    };\n\n    this.getScrollTop = function () {\n        var scrollTop = el.scrollTop;\n\n        if (typeof scrollTop === 'undefined') {\n            scrollTop = el.scrollY || el.pageYOffset;\n        }\n\n        return scrollTop;\n    };\n\n    this.reset = function () {\n        size = null;\n    };\n}\n\nexport function ContentBox(el, items, itemHeight, heightCache, keyFromItem) {\n    var size;\n    this.el = el;\n\n    var cache = new HeightCache(heightCache);\n    var bit = new BinaryIndexedTree(items.map(x => cache.has(x) ? cache.get(x) : itemHeight));\n    var revMap = new Map(); // from key to idx\n\n    items.forEach((item, idx) => revMap.set(keyFromItem(item), idx));\n\n    var calculateSize = () => {\n        size = {\n            top: calcYPos(this.el),\n            height: bit.sum(),\n        };\n        console.log(size, bit);\n        return size;\n    };\n\n    function onUpdateCache(key, val) {\n        var idx = revMap.get(key);\n        bit.set(idx, val);\n        calculateSize();\n    }\n\n    cache.onChange(onUpdateCache.bind(this));\n\n    this.lowerBound = function (x) {\n        return bit.lowerBound(x);\n    }\n\n    this.getOffset = function (x) {\n        return bit.get(x);\n    }\n\n    this.size = function () {\n        return size || calculateSize();\n    };\n\n    this.reset = function () {\n        size = null;\n    };\n}\n\nfunction calcYPos(el) {\n    if (el === window) return 0;\n    var y = 0;\n\n    while (!!el) {\n        y += el.offsetTop;\n        el = el.offsetParent;\n    }\n\n    return y;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/Box.js\n **/","export default function HeightCache(database) {\n    var listeners = [];\n    this.onChange = function(listener) {\n        listeners.push(listener);\n        return () => {listeners.splice(listeners.findIndex(listener), 1)};\n    }\n    this.emitChange = function(key, val) {\n        listeners.forEach(fn => fn(key, val));\n    }\n    this.has = function(key) {\n        return database.has(key);\n    }\n    this.get = function(key) {\n        return database.get(key);\n    }\n    this.set = function(key, val) {\n        database.set(key, val);\n        this.emitChange(key, val);\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/HeightCache.js\n **/","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport rafDebounce from './rafDebounce';\nimport VirtualState from './VirtualState';\n\nvar identity = function(x){return x;};\n\nvar VerticalList = React.createClass({\n    displayName: 'VerticalList',\n    scrollDebounce: null,\n    virtualState: null,\n\n    propTypes: {\n        itemHeight: React.PropTypes.number.isRequired,\n        itemFactory: React.PropTypes.func.isRequired,\n        items: React.PropTypes.array,\n        keyFromItem: React.PropTypes.func,\n        heightCache: React.PropTypes.object,\n        bufferSize: React.PropTypes.number,\n        viewport: React.PropTypes.object,\n        tagName: React.PropTypes.string\n    },\n\n    getDefaultProps() {\n        return {\n            viewport: window,\n            items: [],\n            bufferSize: 0,\n            tagName: 'ul',\n            heightCache: new Map(),\n            keyFromItem: identity,\n        };\n    },\n\n    getInitialState() {\n        return {\n            contentHeight: 0,\n            topOffset: 0,\n            items: [],\n        };\n    },\n\n    componentWillMount() {\n        this.updateDebounce = rafDebounce(this.update);\n        this.resetStateDebounce = rafDebounce(()=>this.virtualState.reset());\n    },\n\n    componentDidMount() {\n        this.initVirtualState(this.props);\n        this.bindEvents(this.props);\n        this.update();\n    },\n\n    componentWillUnmount() {\n        this.unbindEvents(this.props);\n    },\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (this.state.contentHeight !== nextState.contentHeight) {\n            return true;\n        }\n\n        if (this.state.items.length !== nextState.items.length) {\n            return true;\n        }\n\n        return this.state.topOffset !== nextState.topOffset;\n    },\n\n    componentWillReceiveProps(nextProps) {\n        this.initVirtualState(nextProps);\n        this.unbindEvents(nextProps);\n        this.bindEvents(nextProps);\n        this.update();\n    },\n\n    initVirtualState(props) {\n        this.virtualState = new VirtualState(\n            props.viewport,\n            ReactDOM.findDOMNode(this),\n            props.items,\n            props.itemHeight,\n            props.bufferSize,\n            props.heightCache,\n            props.keyFromItem\n        );\n    },\n\n    bindEvents(props) {\n        props.viewport.addEventListener('scroll', this.handleScroll);\n\n        if (props.viewport === window) {\n            props.viewport.addEventListener('resize', this.handleResize);\n        }\n    },\n\n    unbindEvents(props) {\n        props.viewport.removeEventListener('scroll', this.handleScroll);\n        props.viewport.removeEventListener('resize', this.handleResize);\n    },\n\n    update(force) {\n        if (force) {\n            this.virtualState.reset();\n        }\n\n        this.setState(this.virtualState.calculate());\n    },\n\n    handleScroll() {\n        this.updateDebounce.request();\n    },\n\n    handleResize() {\n        this.virtualState.reset();\n        this.updateDebounce.request();\n    },\n\n    updateHeightCache(item, height) {\n        this.props.heightCache.set(this.props.keyFromItem(item), height);\n        this.updateDebounce.request();\n    },\n\n    renderItems() {\n        return this.state.items.map((item) => {\n            return this.props.itemFactory(item, this.props, this.state, this.updateHeightCache);\n        });\n    },\n\n    render() {\n        var css = {\n            boxSizing: 'border-box',\n            height: this.state.contentHeight + 'px',\n            paddingTop: this.state.topOffset + 'px'\n        };\n\n        return (\n            <this.props.tagName style={ css }>{ this.renderItems() }</this.props.tagName>\n        );\n    }\n});\n\nexport default VerticalList;\n\n\n/** WEBPACK FOOTER **\n ** ./src/VirtualList.js\n **/","import { Viewport, ContentBox } from './Box';\n\nfunction VirtualState(viewportEl, contentEl, items, itemHeight, bufferSize, heightCache, keyFromItem) {\n    this.viewport = new Viewport(viewportEl);\n    this.contentBox = new ContentBox(contentEl, items, itemHeight, heightCache, keyFromItem);\n\n    var state = {\n        contentHeight: 0,\n        topOffset: 0,\n        items: []\n    };\n\n    this.calculate = function () {\n        if (itemHeight <= 0) {\n            return state;\n        }\n\n        var absTopOffset = this.viewport.size().top - this.contentBox.size().top + this.viewport.getScrollTop();\n        var visibleHeight = Math.min(this.viewport.size().height, this.viewport.size().height + absTopOffset);\n\n        var startIdx = Math.max(0, this.contentBox.lowerBound(absTopOffset) - 1);\n        var endIdx = Math.max(startIdx + 1, this.contentBox.lowerBound(absTopOffset + visibleHeight));\n\n        if (bufferSize) {\n            startIdx = Math.max(0, startIdx - bufferSize);\n            endIdx = endIdx + bufferSize;\n        }\n\n        state.contentHeight = this.contentBox.size().height;\n        state.topOffset = startIdx > 0 ? this.contentBox.getOffset(startIdx - 1) : 0;\n        state.items = items.slice(startIdx, endIdx);\n\n        console.log('calculate', state);\n\n        return state;\n    };\n\n    this.reset = function () {\n        this.viewport.reset();\n        this.contentBox.reset();\n    };\n}\n\nexport default VirtualState;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/VirtualState.js\n **/","export default function rafDebounce(fn) {\n    var rafScheduled = false;\n\n    var fnWrapper = () => {\n        fn();\n        rafScheduled = false;\n    };\n\n    return {\n        request() {\n            if (!rafScheduled) {\n                requestAnimationFrame(fnWrapper);\n                rafScheduled = true;\n            }\n        }\n    };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/rafDebounce.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}\n ** module id = 8\n ** module chunks = 0\n **/"],"sourceRoot":""}